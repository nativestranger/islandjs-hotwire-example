{"version":3,"file":"islands_bundle.c19c8e823d1d992ecd39.js","mappings":"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","sources":["webpack://islands/./app/javascript/islands/components/HelloWorld.jsx","webpack://islands/./app/javascript/islands/components/Reactions.jsx","webpack://islands/./app/javascript/islands/utils/turbo.js","webpack://islands/external var \"React\"","webpack://islands/webpack/bootstrap","webpack://islands/webpack/runtime/compat get default export","webpack://islands/webpack/runtime/define property getters","webpack://islands/webpack/runtime/hasOwnProperty shorthand","webpack://islands/webpack/runtime/make namespace object","webpack://islands/./app/javascript/islands/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTurboProps, useTurboCache } from '../utils/turbo.js';\n\nconst HelloWorld = ({ containerId }) => {\n  // Get initial state from the div's data-initial-state attribute\n  const initialProps = useTurboProps(containerId);\n  \n  // Component state with defaults, restored from turbo cache if available\n  const [count, setCount] = useState(initialProps.count || 0);\n  const [message, setMessage] = useState(initialProps.message || \"Hello from IslandJS Rails!\");\n  const [customMessage, setCustomMessage] = useState(initialProps.customMessage || '');\n\n  // Current state object for turbo caching\n  const currentState = {\n    count,\n    message,\n    customMessage\n  };\n\n  // Setup turbo cache persistence - this should run on mount and whenever state changes\n  useEffect(() => {\n    const cleanup = useTurboCache(containerId, currentState, true);\n    return cleanup;\n  }, [containerId, count, message, customMessage]);\n\n  const handleMessageChange = (e) => {\n    setCustomMessage(e.target.value);\n  };\n\n  const applyCustomMessage = () => {\n    if (customMessage.trim()) {\n      setMessage(customMessage.trim());\n      setCustomMessage('');\n    }\n  };\n\n  return (\n    <div style={{\n      padding: '20px',\n      border: '2px solid #4F46E5',\n      borderRadius: '8px',\n      backgroundColor: '#F8FAFC',\n      textAlign: 'center',\n      fontFamily: 'system-ui, sans-serif'\n    }}>\n      <h2 style={{ color: '#4F46E5', margin: '0 0 16px 0' }}>\n        🏝️ React + IslandjsRails (Turbo-Cache Compatible)\n      </h2>\n      <p style={{ margin: '0 0 16px 0', fontSize: '18px' }}>\n        {message}\n      </p>\n      \n      <div style={{ margin: '16px 0' }}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter custom message\"\n          value={customMessage}\n          onChange={handleMessageChange}\n          style={{\n            padding: '8px',\n            marginRight: '8px',\n            border: '1px solid #D1D5DB',\n            borderRadius: '4px',\n            fontSize: '14px'\n          }}\n        />\n        <button\n          onClick={applyCustomMessage}\n          style={{\n            padding: '8px 16px',\n            backgroundColor: '#059669',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            marginRight: '8px'\n          }}\n        >\n          Apply Message\n        </button>\n      </div>\n\n      <button\n        onClick={() => setCount(count + 1)}\n        style={{\n          padding: '8px 16px',\n          backgroundColor: '#4F46E5',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          fontSize: '16px'\n        }}\n      >\n        Clicked {count} times\n      </button>\n\n      <div style={{ \n        marginTop: '16px', \n        fontSize: '12px', \n        color: '#6B7280',\n        textAlign: 'left',\n        backgroundColor: '#F9FAFB',\n        padding: '12px',\n        borderRadius: '4px'\n      }}>\n        <strong>Turbo-Cache Demo:</strong>\n        <br />• Navigate away and back - your count and message persist!\n        <br />• Container ID: <code>{containerId}</code>\n        <br />• State: <code>{JSON.stringify(currentState)}</code>\n      </div>\n    </div>\n  );\n};\n\nexport default HelloWorld;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useTurboProps } from '../utils/turbo.js';\n\nfunction Reactions({ containerId }) {\n  // Get props from the container using useTurboProps\n  const initialProps = useTurboProps(containerId);\n  \n  const postId = initialProps.postId;\n  const initialReactions = initialProps.initialReactions || [];\n\n  const [reactions, setReactions] = useState(initialReactions);\n  const [showPicker, setShowPicker] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const pickerRef = useRef(null);\n  \n  // Log for debugging\n  console.log('Reactions component mounted with:', { postId, containerId });\n\n  // Available emojis (similar to Discord)\n  const availableEmojis = ['👍', '❤️', '😂', '😮', '😢', '😡', '🚀', '🎉', '🔥', '✨', '🙏', '💯'];\n  \n  // If postId is missing, show error state\n  if (!postId) {\n    return (\n      <div className=\"text-sm text-gray-500\">\n        Unable to load reactions\n      </div>\n    );\n  }\n\n  // Close picker when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (pickerRef.current && !pickerRef.current.contains(event.target)) {\n        setShowPicker(false);\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Group reactions by emoji\n  const groupedReactions = reactions.reduce((acc, reaction) => {\n    if (!acc[reaction.emoji]) {\n      acc[reaction.emoji] = {\n        emoji: reaction.emoji,\n        count: 0,\n        sessionIds: []\n      };\n    }\n    acc[reaction.emoji].count++;\n    acc[reaction.emoji].sessionIds.push(reaction.session_id);\n    return acc;\n  }, {});\n\n  const toggleReaction = async (emoji) => {\n    if (loading || !postId) {\n      console.error('Cannot toggle reaction: postId is missing');\n      return;\n    }\n    setLoading(true);\n\n    try {\n      const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n      \n      // Check if we already have a reaction with this emoji\n      const existingReaction = reactions.find(r => r.emoji === emoji);\n      \n      if (existingReaction) {\n        // Remove reaction\n        const response = await fetch(`/api/v1/posts/${postId}/reactions/${encodeURIComponent(emoji)}`, {\n          method: 'DELETE',\n          headers: {\n            'X-CSRF-Token': csrfToken,\n            'Accept': 'application/json'\n          }\n        });\n\n        if (response.ok) {\n          setReactions(prev => prev.filter(r => r.emoji !== emoji));\n        } else {\n          console.error('Failed to remove reaction:', response.status, response.statusText);\n        }\n      } else {\n        // Add reaction\n        const response = await fetch(`/api/v1/posts/${postId}/reactions`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRF-Token': csrfToken,\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({ reaction: { emoji } })\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setReactions(prev => [...prev, data.reaction]);\n        } else {\n          console.error('Failed to add reaction:', response.status, response.statusText);\n        }\n      }\n    } catch (error) {\n      console.error('Error toggling reaction:', error);\n    } finally {\n      setLoading(false);\n      setShowPicker(false);\n    }\n  };\n\n  const addNewReaction = (emoji) => {\n    toggleReaction(emoji);\n  };\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      {/* Add reaction button positioned at bottom left */}\n      <div className=\"relative order-2\" ref={pickerRef}>\n        <button\n          onClick={() => setShowPicker(!showPicker)}\n          disabled={loading}\n          className={`\n            inline-flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-full\n            bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200\n            text-indigo-600 hover:from-indigo-100 hover:to-purple-100 hover:border-indigo-300\n            transition-all duration-200 hover:scale-110 hover:shadow-md active:scale-100\n            ${loading ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n          `}\n          title=\"Add reaction\"\n        >\n          <svg className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n          </svg>\n        </button>\n\n        {/* Emoji picker - positioned above button */}\n        {showPicker && (\n          <div className=\"absolute bottom-full left-0 mb-2 p-3 sm:p-4 bg-white rounded-lg sm:rounded-xl shadow-2xl border border-slate-200 z-50 w-[280px] sm:w-[320px]\">\n            <div className=\"grid grid-cols-6 gap-1.5 sm:gap-2\">\n              {availableEmojis.map(emoji => (\n                <button\n                  key={emoji}\n                  onClick={() => addNewReaction(emoji)}\n                  disabled={loading}\n                  className={`\n                    w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-lg sm:rounded-xl\n                    bg-gradient-to-br from-white to-slate-50 border border-slate-200\n                    transition-all duration-200 text-xl sm:text-2xl\n                    hover:scale-110 sm:hover:scale-125 hover:shadow-lg hover:from-indigo-50 hover:to-purple-50\n                    hover:border-indigo-200 cursor-pointer hover:z-10\n                  `}\n                  title={`React with ${emoji}`}\n                >\n                  {emoji}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Existing reactions positioned above the add button */}\n      {Object.keys(groupedReactions).length > 0 && (\n        <div className=\"flex items-center flex-wrap gap-1.5 sm:gap-2 order-1\">\n          {Object.entries(groupedReactions).map(([emoji, data]) => (\n            <button\n              key={emoji}\n              onClick={() => toggleReaction(emoji)}\n              disabled={loading}\n              className={`\n                inline-flex items-center px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm rounded-full transition-all duration-200\n                bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200\n                hover:from-slate-100 hover:to-slate-200 hover:border-slate-300\n                ${loading ? 'opacity-50 cursor-not-allowed' : 'hover:scale-110 hover:shadow-md active:scale-100 cursor-pointer'}\n              `}\n            >\n              <span className=\"text-base sm:text-lg mr-1 sm:mr-1.5\">{emoji}</span>\n              <span className=\"font-semibold text-slate-700\">{data.count}</span>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Reactions;","// Turbo-compatible state management utilities for React components\n\n/**\n * Get initial state from a container's data-initial-state attribute\n * @param {string} containerId - The ID of the container element\n * @returns {Object} - Parsed initial state object\n */\nexport function useTurboProps(containerId) {\n  const container = document.getElementById(containerId);\n  if (!container) {\n    console.warn(`IslandJS Turbo: Container ${containerId} not found`);\n    return {};\n  }\n\n  const initialStateJson = container.dataset.initialState;\n  if (!initialStateJson) {\n    return {};\n  }\n\n  try {\n    return JSON.parse(initialStateJson);\n  } catch (e) {\n    console.warn('IslandJS Turbo: Failed to parse initial state', e);\n    return {};\n  }\n}\n\n/**\n * Set up Turbo cache persistence for React component state\n * @param {string} containerId - The ID of the container element\n * @param {Object} currentState - Current component state to persist\n * @param {boolean} autoRestore - Whether to automatically restore state on turbo:load\n * @returns {Function} - Cleanup function to remove event listeners\n */\nexport function useTurboCache(containerId, currentState, autoRestore = true) {\n  const container = document.getElementById(containerId);\n  if (!container) {\n    console.warn(`IslandJS Turbo: Container ${containerId} not found for caching`);\n    return () => {};\n  }\n\n  // Immediately persist the current state to the div (don't wait for turbo:before-cache)\n  try {\n    const stateJson = JSON.stringify(currentState);\n    container.dataset.initialState = stateJson;\n  } catch (e) {\n    console.warn('IslandJS Turbo: Failed to immediately serialize state', e);\n  }\n}\n\n/**\n * Hook for React components to automatically manage Turbo cache persistence\n * This is a React hook that should be called from within a React component\n * @param {string} containerId - The ID of the container element\n * @param {Object} state - Current component state to persist\n * @param {Array} dependencies - Dependencies array for useEffect\n */\nexport function useTurboCacheEffect(containerId, state, dependencies = []) {\n  // This assumes React is available globally\n  if (typeof React !== 'undefined' && React.useEffect) {\n    React.useEffect(() => {\n      return useTurboCache(containerId, state, false);\n    }, [containerId, ...dependencies]);\n  } else {\n    console.warn('IslandJS Turbo: React.useEffect not available for useTurboCacheEffect');\n  }\n}\n\n/**\n * Manually persist state to container for components that don't use the hook\n * @param {string} containerId - The ID of the container element  \n * @param {Object} state - State object to persist\n */\nexport function persistState(containerId, state) {\n  const container = document.getElementById(containerId);\n  if (!container) {\n    console.warn(`IslandJS Turbo: Container ${containerId} not found for state persistence`);\n    return;\n  }\n\n  try {\n    const stateJson = JSON.stringify(state);\n    container.dataset.initialState = stateJson;\n  } catch (e) {\n    console.warn('IslandJS Turbo: Failed to serialize state', e);\n  }\n} ","module.exports = React;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// IslandJS Rails - Main entry point\n// This file is the webpack entry point for your JavaScript islands\n\n// React component imports\nimport HelloWorld from './components/HelloWorld.jsx';\nimport Reactions from './components/Reactions.jsx';\n\n// Mount components to the global islandjsRails namespace\nwindow.islandjsRails = {\n  HelloWorld,\n  Reactions\n};"],"names":["React","useState","useEffect","useTurboProps","useTurboCache","HelloWorld","_ref","containerId","initialProps","_useState","count","_useState2","_slicedToArray","setCount","_useState3","message","_useState4","setMessage","_useState5","customMessage","_useState6","setCustomMessage","currentState","cleanup","handleMessageChange","e","target","value","applyCustomMessage","trim","createElement","style","padding","border","borderRadius","backgroundColor","textAlign","fontFamily","color","margin","fontSize","type","placeholder","onChange","marginRight","onClick","cursor","marginTop","JSON","stringify","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","from","isArray","_arrayLikeToArray","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","toString","slice","constructor","name","test","next","push","useRef","Reactions","postId","initialReactions","reactions","setReactions","showPicker","setShowPicker","loading","setLoading","pickerRef","console","log","availableEmojis","className","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","groupedReactions","reduce","acc","reaction","emoji","sessionIds","session_id","toggleReaction","_ref2","_callee","_document$querySelect","csrfToken","existingReaction","response","_response","data","_t","_context","error","querySelector","getAttribute","find","fetch","concat","encodeURIComponent","method","headers","ok","prev","filter","status","statusText","body","json","_x","addNewReaction","ref","disabled","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","map","key","keys","entries","_ref3","_ref4","container","getElementById","warn","initialStateJson","dataset","initialState","parse","autoRestore","undefined","stateJson","useTurboCacheEffect","state","dependencies","persistState","window","islandjsRails"],"sourceRoot":""}